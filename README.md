# Telegram Family Finance Bot

Telegram-бот для учёта семейных расходов. Принимает траты текстом, голосом и фото чеков, парсит через Claude/Whisper, хранит в SQLite, показывает отчёты и отвечает на вопросы о финансах.

## Возможности

- **Текстовый ввод**: "продукты 2300" → автоматическое распознавание категории и суммы
- **Голосовые сообщения**: распознавание через Whisper → парсинг расхода
- **Фото чеков**: распознавание позиций через Claude Vision
- **Вопросы**: "сколько потратили на рестораны?" → ответ на основе данных
- **Бюджеты**: установка лимитов по категориям с обратной связью
- **Отчёты**: недельные и месячные, автоматическая рассылка по воскресеньям

## Установка

```bash
pip install -r requirements.txt
cp .env.example .env
# Заполнить .env реальными токенами
```

## Настройка .env

```
TELEGRAM_BOT_TOKEN=токен_от_BotFather
ANTHROPIC_API_KEY=ключ_Anthropic
OPENAI_API_KEY=ключ_OpenAI
ALLOWED_USER_IDS=id_мужа,id_жены
```

Узнать свой Telegram ID: отправить любое сообщение боту [@userinfobot](https://t.me/userinfobot).

## Запуск

```bash
python main.py
```

## Команды

| Команда | Описание |
|---------|----------|
| `/start` | Приветствие и справка |
| `/week` | Отчёт за неделю |
| `/month` | Отчёт за месяц |
| `/budget` | Статус бюджетов |
| `/setbudget` | Установить лимит на категорию |

## Категории

Продукты, Рестораны/Кафе, Транспорт, Здоровье, Дом, Дети, Развлечения, Одежда, Другое
